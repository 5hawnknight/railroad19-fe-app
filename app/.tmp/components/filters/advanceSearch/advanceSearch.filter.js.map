{"version":3,"sources":["../../../../client/components/filters/advanceSearch/advanceSearch.filter.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAChC,MAAM,CAAC,eAAe,EAAE,CAAC,SAAS,EAAE,UAAS,OAAO,EAAE;AACnD,WAAO,UAAS,IAAI,EAAE,IAAI,EAAE;AACxB,YAAI,MAAM,GAAG,EAAE,CAAC;AAChB,YAAI,KAAK,GAAG,EAAE,CAAC;AACf,YAAI,OAAO,EAAE,OAAO,CAAC;;AAErB,YAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE,EAAE;AAC5B,mBAAO,IAAI,CAAC;SACf;;AAED,YAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC9B,eAAO,CAAC,OAAO,CAAC,OAAO,EAAE,UAAS,GAAG,EAAE;;AAEnC,gBAAI,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AACxB,qBAAK,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;AAEvB,uBAAO,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5F,uBAAO,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5F,sBAAM,GAAG,MAAM,CAAC,MAAM,IAAI,CAAC,GAAG,IAAI,GAAG,MAAM,CAAC;AAC5C,uBAAO,CAAC,OAAO,CAAC,MAAM,EAAE,UAAS,IAAI,EAAE,KAAK,EAAE;AAC1C,wBAAI,CAAC,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC;AACzC,wBAAI,CAAC,GAAG,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,OAAO,CAAC,OAAO,EAAE,EAAE;;AAEhD,8BAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;qBAC3B,CAAC;iBACL,CAAC,CAAA;aACL,MAAM;;AAEH,sBAAM,GAAG,MAAM,CAAC,MAAM,IAAI,CAAC,GAAG,IAAI,GAAG,MAAM,CAAC;;AAE5C,sBAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;aAC3C;SAEJ,CAAC,CAAC;AACH,eAAO,MAAM,CAAC;KACjB,CAAA;CACJ,CAAC,CAAC,CAAC","file":"advanceSearch.filter.js","sourcesContent":["'use strict';\n\nangular.module('projectDashboardApp')\n    .filter('advanceSearch', ['$filter', function($filter) {\n        return function(data, text) {\n            var output = [];\n            var dates = [];\n            var minDate, maxDate;\n            //return with full set of data if there is no filter or filter is empthy string\n            if (text == null || text == '') {\n                return data;\n            }\n            //check how many filters user wants to apply by spliting the incomeing text\n            var textArr = text.split(' ');\n            angular.forEach(textArr, function(fil) {\n                //if we see any ranges for the dates\n                if (fil.search('-') !== -1) {\n                    dates = fil.split('-');\n                    //set min date and max date, user input order shouldnt matter\n                    minDate = new Date(dates[0]) < new Date(dates[1]) ? new Date(dates[0]) : new Date(dates[1]);\n                    maxDate = new Date(dates[0]) > new Date(dates[1]) ? new Date(dates[0]) : new Date(dates[1]);\n                    output = output.length == 0 ? data : output;\n                    angular.forEach(output, function(proj, index) {\n                        var p = new Date(proj.created).getTime();\n                        if (p > maxDate.getTime() || p < minDate.getTime()) {\n                            //let take out all the dates that dont fall within our required min and max date\n                            output.splice(index, 1);\n                        };\n                    })\n                } else {\n                    //check to see if there is a pervious filter applied by checking the output length\n                    output = output.length == 0 ? data : output;\n                    //filter out by keyword \n                    output = $filter('filter')(output, fil);\n                }\n\n            });\n            return output;\n        }\n    }]);\n"]}